<!DOCTYPE html>  <html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <title>GamesPlanet Final Order Converter (Full Product + Variant List)</title>  
  <style>  
    body { font-family: sans-serif; padding: 20px; }  
    textarea { width: 100%; height: 250px; font-size: 14px; }  
    pre { background: #f0f0f0; padding: 10px; white-space: pre-wrap; font-size: 14px; }  
    button { padding: 10px 15px; font-size: 14px; margin: 4px; cursor: pointer; }  
  </style>  
</head>  
<body>  <h2>GamesPlanet Final Order Converter (Full Product + Variant List)</h2>  <textarea id="input" placeholder="Paste order details here"></textarea><br><br>  <button onclick="selectAll()">Select All</button>
<button onclick="clearText()">Clear</button>
<button onclick="convert()">Convert</button>
<button onclick="copyAll()">Copy All</button>
<button onclick="sendToCustomer()">Send to Customer WhatsApp</button>
<button onclick="sendToOwn()">Send to Own WhatsApp</button>
<button onclick="sendThanks()">Send Thanks</button>
<button onclick="sendAbandonedCart()">Send Abandoned Cart WhatsApp</button>

<pre id="output"></pre>  <script>  
// Load pincode data  
let pincodeLatLng = {};  
fetch('pincode_data.json')  
  .then(response => response.json())  
  .then(data => { pincodeLatLng = data; })  
  .catch(error => console.log("Error loading pincode data:", error));  
  
// Full product list  
const products = ["aoko game stick","aoko game stick v1","aoko game stick v2","aoko game stick v3","black hawk","black hawk v1","black hawk v2","black hawk v3","fmcb","fmcb v1","fmcb v2","fmcb v3","fmcb + usb","fmcb + usb v1","fmcb + usb v2","fmcb + usb v3","fmcb + usb optional","fmcb + usb optional v1","fmcb + usb optional v2","fmcb + usb optional v3","fmcb + usb top","fmcb + usb top v1","fmcb + usb top v2","fmcb + usb top v3","g10","g10 v1","g10 v2","g10 v3","g10v3","g10v3 v1","g10v3 v2","g10v3 v3","g11 pro","g11 pro v1","g11 pro v2","g11 pro v3","g11 pro special edition","g11 pro special edition v1","g11 pro special edition v2","g11 pro special edition v3","g11 pro ultimate edition","g11 pro ultimate edition v1","g11 pro ultimate edition v2","g11 pro ultimate edition v3","gd10","gd10 v1","gd10 v2","gd10 v3","gd30","gd30 v1","gd30 v2","gd30 v3","gd35","gd35 v1","gd35 v2","gd35 v3","game box g10","game box g10 v1","game box g10 v2","game box g10 v3","game stick blaster","game stick blaster v1","game stick blaster v2","game stick blaster v3","game stick gd10","game stick gd10 v1","game stick gd10 v2","game stick gd10 v3","game stick lite","game stick lite v1","game stick lite v2","game stick lite v3","game stick pro","game stick pro v1","game stick pro v2","game stick pro v3","game boy","game boy v1","game boy v2","game boy v3","game boy advance","game boy advance v1","game boy advance v2","game boy advance v3","gs5","gs5 v1","gs5 v2","gs5 v3","k8","k8 v1","k8 v2","k8 v3","m111","m111 v1","m111 v2","m111 v3","m15 pro","m15 pro v1","m15 pro v2","m15 pro v3","m22","m22 v1","m22 v2","m22 v3","m33","m33 v1","m33 v2","m33 v3","m44","m44 v1","m44 v2","m44 v3","m55","m55 v1","m55 v2","m55 v3","m66","m66 v1","m66 v2","m66 v3","m77","m77 v1","m77 v2","m77 v3","m88","m88 v1","m88 v2","m88 v3","m99","m99 v1","m99 v2","m99 v3","m222","m222 v1","m222 v2","m222 v3","m333","m333 v1","m333 v2","m333 v3","m444","m444 v1","m444 v2","m444 v3","m555","m555 v1","m555 v2","m555 v3","m666","m666 v1","m666 v2","m666 v3","m777","m777 v1","m777 v2","m777 v3","m888","m888 v1","m888 v2","m888 v3","m999","m999 v1","m999 v2","m999 v3","m1000","m1000 v1","m1000 v2","m1000 v3","nintendo 3ds","nintendo 3ds v1","nintendo 3ds v2","nintendo 3ds v3","nintendo ds","nintendo ds v1","nintendo ds v2","nintendo ds v3","nintendo switch","nintendo switch v1","nintendo switch v2","nintendo switch v3","nintendo switch oled","nintendo switch oled v1","nintendo switch oled v2","nintendo switch oled v3","nintendo wii","nintendo wii v1","nintendo wii v2","nintendo wii v3","nintendo wii u","nintendo wii u v1","nintendo wii u v2","nintendo wii u v3","pandora mini","pandora mini v1","pandora mini v2","pandora mini v3","pandora pro","pandora pro v1","pandora pro v2","pandora pro v3","ps1","ps1 v1","ps1 v2","ps1 v3","ps2 slim","ps2 slim v1","ps2 slim v2","ps2 slim v3","ps3 slim","ps3 slim v1","ps3 slim v2","ps3 slim v3","ps3 super slim","ps3 super slim v1","ps3 super slim v2","ps3 super slim v3","ps4 fat","ps4 fat v1","ps4 fat v2","ps4 fat v3","ps4 pro","ps4 pro v1","ps4 pro v2","ps4 pro v3","ps4 slim","ps4 slim v1","ps4 slim v2","ps4 slim v3","r35s","r35s v1","r35s v2","r35s v3","r36s","r36s v1","r36s v2","r36s v3","sd card","sd card v1","sd card v2","sd card v3","sega 16bit mini u box","sega 16bit mini u box v1","sega 16bit mini u box v2","sega 16bit mini u box v3","sega mini u box","sega mini u box v1","sega mini u box v2","sega mini u box v3","sup x7m","sup x7m v1","sup x7m v2","sup x7m v3","usb","usb v1","usb v2","usb v3","x7m","x7m v1","x7m v2","x7m v3","xbox 360","xbox 360 v1","xbox 360 v2","xbox 360 v3","xbox one","xbox one v1","xbox one v2","xbox one v3","xbox series s","xbox series s v1","xbox series s v2","xbox series s v3","xbox series x","xbox series x v1","xbox series x v2","xbox series x v3","Aoko Game Stick","Aoko Game Stick V1","Aoko Game Stick V2","Aoko Game Stick V3","AOKO GAME STICK","AOKO GAME STICK V1","AOKO GAME STICK V2","AOKO GAME STICK V3"];

 // Full variant list                 
const variants = ["64gb","128gb","256gb","500gb","1tb","64gb optional","128gb optional","256gb optional","500gb optional","1tb optional","dual","single"];  

function clearText() { document.getElementById("input").value = ""; document.getElementById("output").textContent = ""; }  
  
function haversine(lat1, lon1, lat2, lon2) {  
  const R = 6371; const dLat = (lat2 - lat1) * Math.PI / 180; const dLon = (lon2 - lon1) * Math.PI / 180;  
  const a = Math.sin(dLat/2)*Math.sin(dLat/2) + Math.cos(lat1*Math.PI/180) * Math.cos(lat2*Math.PI/180) * Math.sin(dLon/2)*Math.sin(dLon/2);  
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); return R * c;  
}  
  
function estimateDeliveryByDistance(distance) {  
  if (distance <= 30) return "1 day";  
  else if (distance <= 60) return "1-2 days";  
  else if (distance <= 100) return "2-3 days";  
  else if (distance <= 200) return "3-4 days";  
  else if (distance <= 500) return "4-5 days";  
  else if (distance <= 1000) return "4-6 days";  
  else if (distance <= 1500) return "5‚Äì7 days";  
  else if (distance <= 2000) return "6‚Äì8 days";  
  else if (distance <= 3000) return "6‚Äì10 days";  
  else return "8‚Äì12 days (sometimes up to 15 days)";  
}  
  
function convert() {  
  let input = document.getElementById("input").value.toLowerCase();  
  
  let orderId = input.match(/#\d{5,}/)?.[0] || "Not found";  
  let name = input.match(/name\s*\n([^\n]+)/i)?.[1].trim() || "Customer";  
  let mobile = input.match(/mobile\s*\n([^\n]+)/i)?.[1].trim() || "";  
  let altMobile = input.match(/alternate mobile number\s*\n([^\n]+)/i)?.[1].trim() || "";  
  let email = input.match(/email\s*\n([^\n]+)/i)?.[1].trim() || "";  
  let address = input.match(/shipping address\s*\n([^\n]+)/i)?.[1].trim() || "";  
  let pincode = input.match(/\b\d{6}\b/)?.[0] || "";  
  let basePrice = input.match(/1x\s*‚Çπ([\d,]+)/i)?.[1].replace(/,/g,"") || "0";  
  
  let discount = "0";  
  if (input.includes("coupon discount")) {  
    let d = input.match(/coupon discount[^\n]*\n-‚Çπ(\d+)/i);  
    discount = d ? d[1] : "0";  
  }  
  
  let amountPaid = input.match(/Total\s*PAID\s*‚Çπ([\d,]+)/i)?.[1].replace(/,/g,"") || "0";  
  
  // Product detection  
  products.sort((a,b) => b.length - a.length);  
  let detectedProduct = "Unknown Product";  
  for (let p of products) { if (input.includes(p)) { detectedProduct = p.toUpperCase(); break; } }  
  
  // Variant detection  
  let variant = "";  
  for (let v of variants) { if (input.includes(v)) { variant = v.toUpperCase(); break; } }  
  // Variant detection updated for size/storage/variant/verient  
let variant = "";  
let variantMatch = input.match(/(?:size|storage|variant|verient)[:\s]*([^\n]+)/i);  
variant = variantMatch ? variantMatch[1].trim().toUpperCase() : "";  
  
  let city = "Unknown", state = "Unknown", distance = "N/A", eta = "N/A";  
  if (pincode in pincodeLatLng) {  
    let dest = pincodeLatLng[pincode];  
    city = dest.city; state = dest.state;  
    distance = haversine(28.8,79.0,dest.lat,dest.lng).toFixed(0);  
    eta = estimateDeliveryByDistance(distance);  
  }  
  
  let outputText =   
`üü¢ Prepaid Order on Dukaan  
  
Order ID: ${orderId}  
Name: ${name}  
Mobile: ${mobile}  
Alt Mobile: ${altMobile}  
Email: ${email}  
  
Address: ${address}  
Pincode: ${pincode}  
State: ${state}  
District/City: ${city}  
  
Product: ${detectedProduct}  
Variant: ${variant}  
Base Price: ‚Çπ${basePrice}  
Discount Applied: ‚Çπ${discount}  
Amount Paid: ‚Çπ${amountPaid}  
Distance: ${distance} km  
Estimated Delivery: ${eta}`;  
  
  document.getElementById("output").textContent = outputText;  
}  
  
function copyAll() { navigator.clipboard.writeText(document.getElementById("output").textContent).then(() => alert("Output copied to clipboard!")); }  
  
function sendToCustomer() { let mobile = document.getElementById("input").value.match(/\+91[-\s]?[0-9]{10}/)?.[0].replace(/\s|-/g,"") || ""; let msg = encodeURIComponent(document.getElementById("output").textContent); if(mobile) window.open(`https://wa.me/${mobile}?text=${msg}`, "_blank"); else alert("Customer mobile number not found in input."); }  
function sendToOwn() { let msg = encodeURIComponent(document.getElementById("output").textContent); window.open(`https://wa.me/917983624797?text=${msg}`, "_blank"); }  
  
function sendThanks() {  
  let o = document.getElementById("output").textContent;  
  let name = o.match(/Name: ([^\n]+)/)?.[1] || "Customer";  
  let orderId = o.match(/Order ID: ([^\n]+)/)?.[1] || "Not found";  
  let product = o.match(/Product: ([^\n]+)/)?.[1].trim() || "";  
  let variant = o.match(/Variant: ([^\n]+)/)?.[1].trim() || "";  
  let pincode = o.match(/Pincode: ([^\n]+)/)?.[1] || "";  
  let distance = o.match(/Distance: ([^\n]+)/)?.[1] || "";  
  let eta = o.match(/Estimated Delivery: ([^\n]+)/)?.[1] || "";  
  
  let msg = encodeURIComponent(  
`üåü GamesPlanet  
üôè Hello ${name} ji, thank you for your order ${orderId}.  
üì¶ Product: ${product} (${variant})  
üìç Pincode: ${pincode} | üìè Distance: ${distance}  
‚è≥ Estimated Delivery: ${eta}  
üöö Your order will be shipped soon between 8PM‚Äì10PM.  
üîó Tracking will update on our website after dispatch.  
üñºÔ∏è On request, we can send *parcel pic & tracking number* here on WhatsApp.  
üíö Team GamesPlanet`);  
  
  let mobile = document.getElementById("input").value.match(/\+91[-\s]?[0-9]{10}/)?.[0].replace(/\s|-/g,"") || "";  
  if(mobile) window.open(`https://wa.me/${mobile}?text=${msg}`, "_blank"); else alert("Customer mobile number not found in input.");  
}  
  
function sendAbandonedCart() {  
  let o = document.getElementById("output").textContent;  
  let name = o.match(/Name: ([^\n]+)/)?.[1] || "Customer";  
  let orderId = o.match(/Order ID: ([^\n]+)/)?.[1] || "Not found";  
  let product = o.match(/Product: ([^\n]+)/)?.[1].trim() || "";  
  let variant = o.match(/Variant: ([^\n]+)/)?.[1].trim() || "";  
  let city = o.match(/District\/City: ([^\n]+)/)?.[1] || "";  
  let distance = o.match(/Distance: ([^\n]+)/)?.[1] || "";  
  let basePrice = parseInt(o.match(/Base Price: ‚Çπ([\d,]+)/)?.[1].replace(/,/g, '') || "0");  
  let discount = parseInt(o.match(/Discount Applied: ‚Çπ([\d,]+)/)?.[1].replace(/,/g, '') || "0");  
  let prepaidAmount = basePrice - discount;  
  let codAdvance = Math.max(500, Math.round(basePrice * 0.10));  
  let codRemaining = basePrice - codAdvance;  
  
  let eta = o.match(/Estimated Delivery: ([^\n]+)/)?.[1] || "few days";  
  let codEta = eta.includes('day') ? eta.replace(/\d+/g, d => parseInt(d)+2) : eta;  
  
  let msg = encodeURIComponent(  
`üåü GamesPlanet  
  
üôè Hello ${name} ji,  
  
üìù incomplete Order Details:  
‚Äì Order ID: ${orderId}  
‚Äì Product: ${product} (${variant})  
‚Äì Base Price: ‚Çπ${basePrice}  
üìç City: ${city}  
üìè Distance: ${distance}  
  
üí∞ Prepaid Offer: ‚Çπ${basePrice} ‚Äì ‚Çπ${discount} discount = ‚Çπ${prepaidAmount}  
üöö Estimated Delivery:  
‚Äì Prepaid: ${eta}  
  
üíµ COD: ‚Çπ${basePrice} (no discount)  
‚û° COD Advance: ‚Çπ${codAdvance}  
‚û° Remaining on Delivery: ‚Çπ${codRemaining}  
üöö Estimated Delivery:  
‚Äì COD: ${codEta}  
  
üëâ Complete payment soon to confirm your order.  
üíö Team GamesPlanet`);  
  
  let mobile = document.getElementById("input").value.match(/\+91[-\s]?[0-9]{10}/)?.[0].replace(/\s|-/g,"") || "";  
  if(mobile) window.open(`https://wa.me/${mobile}?text=${msg}`, "_blank"); else alert("Customer mobile number not found in input.");  
}  
</script>  </body>  
</html> 
